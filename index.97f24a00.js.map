{"mappings":"6oBAAO,MAAMA,EAMTC,cACI,OAAOC,SAASC,cAAcC,KAAKC,S,CAGvCC,uBACI,OAAOJ,SAASC,cAAcC,KAAKG,kB,CAGvCC,gBAAgBC,GACZ,MAAMC,EAAeN,KAAKH,cAC1BS,EAAaC,UAAY,GAEzBF,EAAUG,SAAQ,CAACC,EAAMC,KACrBV,KAAKW,eAAeF,EAAMH,EAAcI,EAAM,G,CAItDC,eAAeF,EAAMG,EAAWF,GAC5B,MAAMG,EAAc,uDAuBsBH,iFAGnBD,EAAEK,0PAMeL,EAAIM,sVAOnCN,EAAAO,qJAGZP,EAAAQ,wFAjEDL,EAAYM,mBAAU,YAAmBL,E,kBAEhCM,GACR,MAAAb,EAAAN,KAAAH,cAuEJG,KAAAW,eAAAQ,EAAA,GAAAb,EAAAN,KAAAH,cAAAuB,SAAAC,O","sources":["src/js/api/view/minicart.js"],"sourcesContent":["export class MiniCartView {\r\n    constructor(selector, itemCountSelector) {\r\n        this.selector = selector;\r\n        this.itemCountSelector = itemCountSelector;\r\n    }\r\n\r\n    getSelector() {\r\n        return document.querySelector(this.selector);\r\n    }\r\n\r\n    getItemCountSelector() {\r\n        return document.querySelector(this.itemCountSelector);\r\n    }\r\n\r\n    renderCartItems(cartItems) {\r\n        const cartItemsRow = this.getSelector();\r\n        cartItemsRow.innerHTML = ''; \r\n\r\n        cartItems.forEach((item, index) => {\r\n            this.renderCartItem(item, cartItemsRow, index);\r\n        });\r\n    }\r\n\r\n    renderCartItem(item, container, index) {\r\n        const cartItemsEl = `\r\n            <div class=\"mc-item flex\" data-index=\"${index}\">\r\n                <div class=\"mc-item-img\">\r\n                    <img src=\"${item.strProductImage}\" alt=\"\">\r\n                </div>\r\n                <div class=\"mc-item-info\">\r\n                    <div class=\"item-option flex\">\r\n                        <div class=\"mc-item-name\">\r\n                            <p class=\"item-name\">${item.strProductName}</p>\r\n                        </div>\r\n                        <div class=\"item-remove-option\">\r\n                            <button class=\"btn\" id=\"remove-item\">X</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"item-price\">\r\n                        <p class=\"item-price\">${item.dblProductPrice}</p>\r\n                    </div>\r\n                    <div class=\"mc-item-qty-container\">\r\n                    <p class=\"item-qty\">${item.intQuantity}</p>\r\n                </div>\r\n\r\n                </div>\r\n            </div>`;\r\n        container.insertAdjacentHTML(\"beforeend\", cartItemsEl);\r\n    }\r\n\r\n    renderLatestItem(latestItem) {\r\n        const cartItemsRow = this.getSelector();\r\n        this.renderCartItem(latestItem[0], cartItemsRow, this.getSelector().children.length);\r\n    }\r\n\r\n    bindRemoveFromCart(handler) {\r\n        document.addEventListener('click', event => {\r\n            if (event.target && event.target.id === 'remove-item') {\r\n                const item = event.target.closest('.mc-item');\r\n                const itemIndex = item.dataset.index;\r\n                if (itemIndex) {\r\n                    const index = parseInt(itemIndex, 10);\r\n                    handler(index);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    renderItemCount(itemCount) {\r\n\r\n        const itemCountEl = this.getItemCountSelector();\r\n        if (itemCountEl) {\r\n            itemCountEl.textContent = itemCount;\r\n        }\r\n    }\r\n}\r\n"],"names":["$aa48e6f87302af30$export$9664c2bcfcd84e72","getSelector","document","querySelector","this","selector","getItemCountSelector","itemCountSelector","renderCartItems","cartItems","cartItemsRow","innerHTML","forEach","item","index","renderCartItem","container","cartItemsEl","strProductImage","strProductName","dblProductPrice","intQuantity","insertAdjacentHTML","latestItem","children","length"],"version":3,"file":"index.97f24a00.js.map"}