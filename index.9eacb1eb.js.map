{"mappings":"gtBAAA,IAAAA,EAAAC,EAAA,S,aAAOC,ECAL,W,sBDAWC,EACGC,EAAWC,G,aACnBC,KAAKF,UAAYA,EACjBE,KAAKD,SAAWA,EAEhBC,KAAKF,UAAUG,UAAUD,KAAKE,kBAAkBC,KAAKH,OAGrDA,KAAKE,kBAAkBF,KAAKF,UAAUM,gBACtCJ,KAAKD,SAASM,mBAAmBL,KAAKM,qBAAqBH,KAAKH,OAChEA,KAAKO,uB,iBAGTC,IAAA,oB,MAAA,SAAkBC,GACdT,KAAKD,SAASW,gBAAgBD,GAC9BT,KAAKO,uB,IAGTC,IAAA,uB,MAAA,SAAqBG,GACjBX,KAAKF,UAAUc,eAAeD,E,IAGlCH,IAAA,kB,MAAA,SAAgBK,GACZb,KAAKF,UAAUgB,UAAUD,GACzB,IAAME,EAAaf,KAAKF,UAAUkB,gBAClChB,KAAKD,SAASkB,iBAAiBF,GAC/Bf,KAAKO,uB,IAGTC,IAAA,wB,MAAA,WACI,IAAMU,EAAYlB,KAAKF,UAAUqB,eACjCnB,KAAKD,SAASqB,gBAAgBF,E,OC/BpC,E","sources":["src/js/api/controller/minicart.js","<<jsx-config-pragma.js>>"],"sourcesContent":["export class MiniCartController {\r\n    constructor(cartModel, cartView) {\r\n        this.cartModel = cartModel;\r\n        this.cartView = cartView;\r\n\r\n        this.cartModel.subscribe(this.onCartListChanged.bind(this));\r\n\r\n        // Initially render all cart items and the item count\r\n        this.onCartListChanged(this.cartModel.getCartItems());\r\n        this.cartView.bindRemoveFromCart(this.handleRemoveFromCart.bind(this));\r\n        this.updateCartItemCounter();\r\n    }\r\n\r\n    onCartListChanged(cartItems) {\r\n        this.cartView.renderCartItems(cartItems);\r\n        this.updateCartItemCounter();\r\n    }\r\n\r\n    handleRemoveFromCart(index) {\r\n        this.cartModel.removeFromCart(index);\r\n    }\r\n\r\n    handleAddToCart(product) {\r\n        this.cartModel.addToCart(product);\r\n        const latestItem = this.cartModel.getLatestItem();\r\n        this.cartView.renderLatestItem(latestItem);\r\n        this.updateCartItemCounter();\r\n    }\r\n\r\n    updateCartItemCounter() {\r\n        const itemCount = this.cartModel.getItemCount();\r\n        this.cartView.renderItemCount(itemCount);\r\n    }\r\n}\r\n",null],"names":["$8MBJY","parcelRequire","$f35031914a621011$export$da61b383f030745b","MiniCartController","cartModel","cartView","this","subscribe","onCartListChanged","bind","getCartItems","bindRemoveFromCart","handleRemoveFromCart","updateCartItemCounter","key","cartItems","renderCartItems","index","removeFromCart","product","addToCart","latestItem","getLatestItem","renderLatestItem","itemCount","getItemCount","renderItemCount"],"version":3,"file":"index.9eacb1eb.js.map"}